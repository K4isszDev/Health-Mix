<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winner's Food - Health Mix</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }

        /* Navigation */
        nav {
            background: linear-gradient(135deg, #1a5f2f 0%, #2d8f4f 100%);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            color: #ffd700;
            font-size: 1.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a, .nav-links button {
            color: white;
            text-decoration: none;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1rem;
            transition: color 0.3s;
        }

        .nav-links a:hover, .nav-links button:hover {
            color: #ffd700;
        }

        .owner-login-btn {
            background-color: #ffd700;
            color: #1a5f2f;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .owner-login-btn:hover {
            background-color: #ffed4e;
            transform: scale(1.05);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Pages */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Home Page */
        .hero {
            background: linear-gradient(135deg, #1a5f2f 0%, #2d8f4f 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            color: #1a5f2f;
            margin-bottom: 0.5rem;
        }

        .price {
            color: #ffd700;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .quantity-selector button {
            background-color: #1a5f2f;
            color: white;
            border: none;
            padding: 0.5rem 0.8rem;
            cursor: pointer;
            border-radius: 3px;
            transition: background-color 0.3s;
        }

        .quantity-selector button:hover {
            background-color: #2d8f4f;
        }

        .quantity-selector input {
            width: 50px;
            text-align: center;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 3px;
        }

        .add-to-cart-btn {
            width: 100%;
            background-color: #ffd700;
            color: #1a5f2f;
            border: none;
            padding: 0.8rem;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .add-to-cart-btn:hover {
            background-color: #ffed4e;
            transform: scale(1.02);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s;
            z-index: 200;
            overflow-y: auto;
            padding: 2rem;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #1a5f2f;
            padding-bottom: 1rem;
        }

        .cart-header h2 {
            color: #1a5f2f;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #1a5f2f;
        }

        .cart-items {
            margin-bottom: 1.5rem;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #f5f5f5;
            border-radius: 5px;
            margin-bottom: 0.5rem;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-info h4 {
            color: #1a5f2f;
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: #ffd700;
            font-weight: bold;
        }

        .remove-item {
            background-color: #ff4444;
            color: white;
            border: none;
            padding: 0.3rem 0.6rem;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .remove-item:hover {
            background-color: #cc0000;
        }

        .cart-total {
            background: linear-gradient(135deg, #1a5f2f 0%, #2d8f4f 100%);
            color: white;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            text-align: center;
        }

        .cart-total h3 {
            margin-bottom: 0.5rem;
        }

        .checkout-btn {
            width: 100%;
            background-color: #ffd700;
            color: #1a5f2f;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .checkout-btn:hover {
            background-color: #ffed4e;
            transform: scale(1.02);
        }

        .checkout-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Forms */
        .form-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 2rem auto;
        }

        .form-container h2 {
            color: #1a5f2f;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #1a5f2f;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #1a5f2f;
            box-shadow: 0 0 5px rgba(26, 95, 47, 0.2);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-btn {
            width: 100%;
            background-color: #1a5f2f;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-btn:hover {
            background-color: #2d8f4f;
            transform: scale(1.02);
        }

        .toggle-form {
            text-align: center;
            margin-top: 1rem;
            color: #666;
        }

        .toggle-form a {
            color: #1a5f2f;
            cursor: pointer;
            font-weight: bold;
            text-decoration: underline;
        }

        /* Checkout Form */
        .checkout-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 700px;
            margin: 2rem auto;
        }

        .checkout-form h2 {
            color: #1a5f2f;
            margin-bottom: 1.5rem;
        }

        .form-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #ddd;
        }

        .form-section:last-child {
            border-bottom: none;
        }

        .form-section h3 {
            color: #1a5f2f;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-row.full {
            grid-template-columns: 1fr;
        }

        /* Order Summary */
        .order-summary {
            background: #f5f5f5;
            padding: 1.5rem;
            border-radius: 5px;
            margin-bottom: 1.5rem;
        }

        .order-summary h3 {
            color: #1a5f2f;
            margin-bottom: 1rem;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #ddd;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            color: #1a5f2f;
            font-size: 1.1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid #1a5f2f;
        }

        /* Admin Dashboard */
        .admin-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 80px);
        }

        .admin-sidebar {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .admin-sidebar h3 {
            color: #1a5f2f;
            margin-bottom: 1rem;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 0.5rem;
        }

        .admin-menu {
            list-style: none;
        }

        .admin-menu li {
            margin-bottom: 0.5rem;
        }

        .admin-menu button {
            width: 100%;
            background: none;
            border: none;
            padding: 0.8rem;
            text-align: left;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
            color: #333;
            font-size: 1rem;
        }

        .admin-menu button:hover,
        .admin-menu button.active {
            background-color: #1a5f2f;
            color: white;
        }

        .admin-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .admin-content h2 {
            color: #1a5f2f;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 1rem;
        }

        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
        }

        .orders-table th {
            background-color: #1a5f2f;
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: bold;
        }

        .orders-table td {
            padding: 1rem;
            border-bottom: 1px solid #ddd;
        }

        .orders-table tr:hover {
            background-color: #f5f5f5;
        }

        .order-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background-color: #d4edda;
            color: #155724;
        }

        .status-delivered {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .view-details-btn {
            background-color: #1a5f2f;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .view-details-btn:hover {
            background-color: #2d8f4f;
        }

        .order-details-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 300;
            align-items: center;
            justify-content: center;
        }

        .order-details-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #1a5f2f;
        }

        .modal-content h3 {
            color: #1a5f2f;
            margin-bottom: 1rem;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid #ddd;
        }

        .detail-row strong {
            color: #1a5f2f;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #1a5f2f 0%, #2d8f4f 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }

        .stat-card h4 {
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }

        .stat-card .number {
            font-size: 2rem;
            font-weight: bold;
        }

        .messages-list {
            list-style: none;
        }

        .message-item {
            background: #f5f5f5;
            padding: 1.5rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #ffd700;
        }

        .message-item h4 {
            color: #1a5f2f;
            margin-bottom: 0.5rem;
        }

        .message-item p {
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }

        .message-meta {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }

        /* Contact Page */
        .contact-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .contact-info {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .contact-info h3 {
            color: #1a5f2f;
            margin-bottom: 1.5rem;
        }

        .contact-item {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .contact-item-icon {
            font-size: 1.5rem;
            color: #ffd700;
            min-width: 30px;
        }

        .contact-item-content h4 {
            color: #1a5f2f;
            margin-bottom: 0.3rem;
        }

        .contact-item-content a {
            color: #1a5f2f;
            text-decoration: none;
            transition: color 0.3s;
        }

        .contact-item-content a:hover {
            color: #ffd700;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background-color: #1a5f2f;
            color: white;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .social-links a:hover {
            background-color: #ffd700;
            color: #1a5f2f;
            transform: scale(1.1);
        }

        /* User Dashboard */
        .user-dashboard {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .user-dashboard h2 {
            color: #1a5f2f;
            margin-bottom: 1.5rem;
        }

        .user-info {
            background: #f5f5f5;
            padding: 1.5rem;
            border-radius: 5px;
            margin-bottom: 2rem;
        }

        .user-info p {
            margin-bottom: 0.5rem;
        }

        .user-info strong {
            color: #1a5f2f;
        }

        .logout-btn {
            background-color: #ff4444;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background-color: #cc0000;
        }

        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #28a745;
        }

        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border-left: 4px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .contact-section {
                grid-template-columns: 1fr;
            }

            .admin-container {
                grid-template-columns: 1fr;
            }

            .admin-sidebar {
                position: static;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .product-grid {
                grid-template-columns: 1fr;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }

            .nav-links {
                gap: 1rem;
            }

            .hero h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="logo">üåæ Winner's Food</div>
        <div class="nav-links">
            <a href="#" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('contact')">Contact</a>
            <button onclick="toggleCart()" id="cartBtn">üõí Cart (<span id="cartCount">0</span>)</button>
            <button id="userMenuBtn" style="display:none;" onclick="toggleUserMenu()">üë§ Account</button>
            <button class="owner-login-btn" onclick="showPage('ownerLogin')">Owner Login</button>
        </div>
    </nav>

    <!-- User Menu Dropdown -->
    <div id="userMenu" style="display:none; position: absolute; top: 70px; right: 20px; background: white; border-radius: 5px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); z-index: 150;">
        <button onclick="showPage('userDashboard')" style="width: 100%; padding: 1rem; text-align: left; border: none; background: none; cursor: pointer;">üìä My Dashboard</button>
        <button onclick="showPage('myOrders')" style="width: 100%; padding: 1rem; text-align: left; border: none; background: none; cursor: pointer;">üì¶ My Orders</button>
        <button onclick="logout()" style="width: 100%; padding: 1rem; text-align: left; border: none; background: none; cursor: pointer; color: #ff4444;">üö™ Logout</button>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2>Shopping Cart</h2>
            <button class="close-cart" onclick="toggleCart()">‚úï</button>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-total">
            <h3>Total: ‚Çπ<span id="cartTotalPrice">0</span></h3>
        </div>
        <button class="checkout-btn" onclick="proceedToCheckout()" id="checkoutBtn">Proceed to Checkout</button>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="hero">
                <h1>üåæ Winner's Food Health Mix</h1>
                <p>23 Natural Ingredients - Pure & Healthy Nutrition</p>
                <p>No Chemicals ‚Ä¢ No Salt ‚Ä¢ No Sugar ‚Ä¢ No Preservatives</p>
            </div>

            <div class="product-grid" id="productGrid"></div>

            <!-- Features Section -->
            <div style="background: white; padding: 2rem; border-radius: 10px; margin-bottom: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h2 style="color: #1a5f2f; margin-bottom: 1.5rem; text-align: center;">Why Choose Winner's Food?</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                        <h3 style="color: #1a5f2f; margin-bottom: 0.5rem;">23 Natural Ingredients</h3>
                        <p>Pure blend of grains, pulses, seeds, and spices</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                        <h3 style="color: #1a5f2f; margin-bottom: 0.5rem;">No Chemicals</h3>
                        <p>100% natural, no artificial additives</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                        <h3 style="color: #1a5f2f; margin-bottom: 0.5rem;">Easy to Prepare</h3>
                        <p>Just mix with water or milk - ready in 2 minutes</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login" class="page">
            <div class="form-container">
                <h2>Login</h2>
                <div id="loginMessage"></div>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="form-btn">Login</button>
                </form>
                <div class="toggle-form">
                    Don't have an account? <a onclick="showPage('signup')">Sign Up</a>
                </div>
            </div>
        </div>

        <!-- Signup Page -->
        <div id="signup" class="page">
            <div class="form-container">
                <h2>Create Account</h2>
                <div id="signupMessage"></div>
                <form onsubmit="handleSignup(event)">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="signupName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="signupPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Password (min 6 characters)</label>
                        <input type="password" id="signupPassword" minlength="6" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" required>
                    </div>
                    <button type="submit" class="form-btn">Create Account</button>
                </form>
                <div class="toggle-form">
                    Already have an account? <a onclick="showPage('login')">Login</a>
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkout" class="page">
            <div class="checkout-form">
                <h2>Complete Your Order</h2>
                <div id="checkoutMessage"></div>

                <!-- Order Summary -->
                <div class="order-summary">
                    <h3>Order Summary</h3>
                    <div id="checkoutSummary"></div>
                </div>

                <!-- Checkout Form -->
                <form onsubmit="handleCheckout(event)">
                    <!-- Delivery Details -->
                    <div class="form-section">
                        <h3>üìç Delivery Address</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" id="deliveryName" required>
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="deliveryPhone" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="deliveryEmail" required>
                            </div>
                            <div class="form-group">
                                <label>Alternate Phone (Optional)</label>
                                <input type="tel" id="deliveryAltPhone">
                            </div>
                        </div>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>Street Address</label>
                                <input type="text" id="deliveryStreet" placeholder="House No., Building Name" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" id="deliveryCity" required>
                            </div>
                            <div class="form-group">
                                <label>State</label>
                                <input type="text" id="deliveryState" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Pincode</label>
                                <input type="text" id="deliveryPincode" required>
                            </div>
                            <div class="form-group">
                                <label>Landmark (Optional)</label>
                                <input type="text" id="deliveryLandmark">
                            </div>
                        </div>
                    </div>

                    <!-- Delivery Preferences -->
                    <div class="form-section">
                        <h3>üöö Delivery Preferences</h3>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>Preferred Delivery Date</label>
                                <input type="date" id="deliveryDate" required>
                            </div>
                        </div>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>Delivery Time Slot</label>
                                <select id="deliveryTime" required>
                                    <option value="">Select Time Slot</option>
                                    <option value="9AM-12PM">9:00 AM - 12:00 PM</option>
                                    <option value="12PM-3PM">12:00 PM - 3:00 PM</option>
                                    <option value="3PM-6PM">3:00 PM - 6:00 PM</option>
                                    <option value="6PM-9PM">6:00 PM - 9:00 PM</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>Special Instructions (Optional)</label>
                                <textarea id="deliveryInstructions" placeholder="e.g., Leave at door, Ring bell twice, etc."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="form-section">
                        <h3>üí≥ Payment Method</h3>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>
                                    <input type="radio" name="paymentMethod" value="COD" checked> Cash on Delivery (COD)
                                </label>
                            </div>
                        </div>
                        <div class="form-row full">
                            <div class="form-group">
                                <label>
                                    <input type="radio" name="paymentMethod" value="UPI"> UPI Payment
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Terms -->
                    <div class="form-section">
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="agreeTerms" required> I agree to the terms and conditions
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="form-btn" style="font-size: 1.1rem; padding: 1.2rem;">Place Order</button>
                </form>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="contact" class="page">
            <div class="contact-section">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <div class="contact-item">
                        <div class="contact-item-icon">üìû</div>
                        <div class="contact-item-content">
                            <h4>Phone</h4>
                            <a href="tel:6385215298">6385215298</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-item-icon">üí¨</div>
                        <div class="contact-item-content">
                            <h4>WhatsApp</h4>
                            <a href="https://wa.me/6385215298" target="_blank">Chat on WhatsApp</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-item-icon">üìç</div>
                        <div class="contact-item-content">
                            <h4>Address</h4>
                            <p>Winner's Food<br>Vadodara, Gujarat</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-item-icon">‚è∞</div>
                        <div class="contact-item-content">
                            <h4>Business Hours</h4>
                            <p>Monday - Sunday<br>9:00 AM - 9:00 PM</p>
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="https://wa.me/6385215298" target="_blank" title="WhatsApp">üí¨</a>
                        <a href="tel:6385215298" title="Call">üìû</a>
                    </div>
                </div>

                <div class="form-container">
                    <h2>Send us a Message</h2>
                    <div id="contactMessage"></div>
                    <form onsubmit="handleContact(event)">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="contactName" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="tel" id="contactPhone" required>
                        </div>
                        <div class="form-group">
                            <label>Message</label>
                            <textarea id="contactText" required></textarea>
                        </div>
                        <button type="submit" class="form-btn">Send Message</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- User Dashboard -->
        <div id="userDashboard" class="page">
            <div class="user-dashboard">
                <h2>Welcome, <span id="userNameDisplay"></span>!</h2>
                <div class="user-info">
                    <p><strong>Email:</strong> <span id="userEmailDisplay"></span></p>
                    <p><strong>Phone:</strong> <span id="userPhoneDisplay"></span></p>
                    <p><strong>Member Since:</strong> <span id="userMemberSince"></span></p>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>

        <!-- My Orders Page -->
        <div id="myOrders" class="page">
            <div class="user-dashboard">
                <h2>My Orders</h2>
                <div id="myOrdersList"></div>
            </div>
        </div>

        <!-- Owner Login Page -->
        <div id="ownerLogin" class="page">
            <div class="form-container">
                <h2>Owner Login</h2>
                <div id="ownerLoginMessage"></div>
                <form onsubmit="handleOwnerLogin(event)">
                    <div class="form-group">
                        <label>Owner ID</label>
                        <input type="text" id="ownerID" placeholder="Enter Owner ID" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="ownerPassword" required>
                    </div>
                    <button type="submit" class="form-btn">Login as Owner</button>
                </form>
                <div class="toggle-form">
                    <a onclick="showPage('home')">Back to Home</a>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="page">
            <div class="admin-container">
                <div class="admin-sidebar">
                    <h3>Admin Menu</h3>
                    <ul class="admin-menu">
                        <li><button class="active" onclick="switchAdminTab('dashboard')">üìä Dashboard</button></li>
                        <li><button onclick="switchAdminTab('orders')">üì¶ All Orders</button></li>
                        <li><button onclick="switchAdminTab('messages')">üí¨ Messages</button></li>
                        <li><button onclick="switchAdminTab('analytics')">üìà Analytics</button></li>
                        <li><button onclick="adminLogout()" style="color: #ff4444;">üö™ Logout</button></li>
                    </ul>
                </div>

                <div class="admin-content">
                    <!-- Dashboard Tab -->
                    <div id="dashboardTab" class="admin-tab">
                        <h2>Dashboard Overview</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>Total Orders</h4>
                                <div class="number" id="totalOrders">0</div>
                            </div>
                            <div class="stat-card">
                                <h4>Total Revenue</h4>
                                <div class="number">‚Çπ<span id="totalRevenue">0</span></div>
                            </div>
                            <div class="stat-card">
                                <h4>Pending Orders</h4>
                                <div class="number" id="pendingOrders">0</div>
                            </div>
                            <div class="stat-card">
                                <h4>Total Messages</h4>
                                <div class="number" id="totalMessages">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Orders Tab -->
                    <div id="ordersTab" class="admin-tab" style="display:none;">
                        <h2>All Orders</h2>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer Name</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                            </tbody>
                        </table>
                    </div>

                    <!-- Messages Tab -->
                    <div id="messagesTab" class="admin-tab" style="display:none;">
                        <h2>Customer Messages</h2>
                        <ul class="messages-list" id="messagesList">
                        </ul>
                    </div>

                    <!-- Analytics Tab -->
                    <div id="analyticsTab" class="admin-tab" style="display:none;">
                        <h2>Analytics</h2>
                        <div class="stats-grid">
                            <div style="background: white; padding: 1.5rem; border-radius: 10px; grid-column: 1/-1;">
                                <h3 style="color: #1a5f2f; margin-bottom: 1rem;">Product Sales</h3>
                                <div id="productAnalytics"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Details Modal -->
        <div class="order-details-modal" id="orderDetailsModal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeOrderModal()">‚úï</button>
                <div id="orderDetailsContent"></div>
            </div>
        </div>
    </div>

    <script>
        // ============ DATA MANAGEMENT ============
        const products = [
            { id: 1, name: '250g Pack', size: '250g', price: 150, description: 'Perfect for trying' },
            { id: 2, name: '500g Pack', size: '500g', price: 250, description: 'Best value' },
            { id: 3, name: '1kg Pack', size: '1kg', price: 450, description: 'Bulk savings' }
        ];

        const ownerCredentials = {
            id: 'WINNER001',
            password: 'Winners@123'
        };

        let cart = [];
        let currentUser = null;
        let isOwnerLoggedIn = false;

        // ============ INITIALIZATION ============
        function init() {
            loadProducts();
            loadUsers();
            loadOrders();
            loadMessages();
            checkUserSession();
        }

        function loadProducts() {
            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image">üì¶</div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <div class="price">‚Çπ${product.price}</div>
                        <div class="quantity-selector">
                            <button type="button" onclick="decreaseQty(${product.id})">‚àí</button>
                            <input type="number" id="qty-${product.id}" value="1" min="1" readonly>
                            <button type="button" onclick="increaseQty(${product.id})">+</button>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Add to Cart</button>
                    </div>
                </div>
            `).join('');
        }

        // ============ CART FUNCTIONS ============
        function increaseQty(productId) {
            const input = document.getElementById(`qty-${productId}`);
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQty(productId) {
            const input = document.getElementById(`qty-${productId}`);
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        function addToCart(productId) {
            if (!currentUser) {
                showPage('login');
                return;
            }

            const product = products.find(p => p.id === productId);
            const quantity = parseInt(document.getElementById(`qty-${productId}`).value);
            
            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({ ...product, quantity });
            }

            updateCart();
            document.getElementById(`qty-${productId}`).value = 1;
            alert('Added to cart!');
        }

        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const cartTotalPrice = document.getElementById('cartTotalPrice');

            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

            let total = 0;
            cartItems.innerHTML = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                return `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <div class="cart-item-price">‚Çπ${item.price} √ó ${item.quantity}</div>
                        </div>
                        <button class="remove-item" onclick="removeFromCart(${item.id})">Remove</button>
                    </div>
                `;
            }).join('');

            cartTotalPrice.textContent = total;
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        function toggleCart() {
            document.getElementById('cartSidebar').classList.toggle('open');
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            if (!currentUser) {
                showPage('login');
                return;
            }
            showPage('checkout');
            updateCheckoutSummary();
            toggleCart();
        }

        function updateCheckoutSummary() {
            const summary = document.getElementById('checkoutSummary');
            let total = 0;
            summary.innerHTML = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                return `
                    <div class="summary-item">
                        <span>${item.name} √ó ${item.quantity}</span>
                        <span>‚Çπ${itemTotal}</span>
                    </div>
                `;
            }).join('');
            summary.innerHTML += `
                <div class="summary-total">
                    <span>Total Amount:</span>
                    <span>‚Çπ${total}</span>
                </div>
            `;
        }

        // ============ AUTHENTICATION ============
        function handleSignup(event) {
            event.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (password !== confirmPassword) {
                showMessage('signupMessage', 'Passwords do not match!', 'error');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.find(u => u.email === email)) {
                showMessage('signupMessage', 'Email already registered!', 'error');
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                email,
                phone,
                password,
                createdAt: new Date().toLocaleDateString()
            };

            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            showMessage('signupMessage', 'Account created successfully! Please login.', 'success');
            setTimeout(() => showPage('login'), 2000);
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (!user) {
                showMessage('loginMessage', 'Invalid email or password!', 'error');
                return;
            }

            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            showMessage('loginMessage', 'Login successful!', 'success');
            updateUserMenu();
            setTimeout(() => showPage('home'), 1500);
        }

        function handleOwnerLogin(event) {
            event.preventDefault();
            const ownerID = document.getElementById('ownerID').value;
            const ownerPassword = document.getElementById('ownerPassword').value;

            if (ownerID === ownerCredentials.id && ownerPassword === ownerCredentials.password) {
                isOwnerLoggedIn = true;
                localStorage.setItem('ownerLoggedIn', 'true');
                showMessage('ownerLoginMessage', 'Owner login successful!', 'success');
                setTimeout(() => {
                    showPage('adminDashboard');
                    loadAdminDashboard();
                }, 1500);
            } else {
                showMessage('ownerLoginMessage', 'Invalid Owner ID or Password!', 'error');
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserMenu();
            showPage('home');
        }

        function adminLogout() {
            isOwnerLoggedIn = false;
            localStorage.removeItem('ownerLoggedIn');
            showPage('home');
        }

        function updateUserMenu() {
            const userMenuBtn = document.getElementById('userMenuBtn');
            if (currentUser) {
                userMenuBtn.style.display = 'block';
                userMenuBtn.textContent = `üë§ ${currentUser.name}`;
            } else {
                userMenuBtn.style.display = 'none';
            }
        }

        function toggleUserMenu() {
            const userMenu = document.getElementById('userMenu');
            userMenu.style.display = userMenu.style.display === 'none' ? 'block' : 'none';
        }

        function checkUserSession() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserMenu();
            }

            const ownerLoggedIn = localStorage.getItem('ownerLoggedIn');
            if (ownerLoggedIn === 'true') {
                isOwnerLoggedIn = true;
            }
        }

        // ============ CHECKOUT ============
        function handleCheckout(event) {
            event.preventDefault();

            const order = {
                id: 'ORD-' + Date.now(),
                userId: currentUser.id,
                customerName: document.getElementById('deliveryName').value,
                email: document.getElementById('deliveryEmail').value,
                phone: document.getElementById('deliveryPhone').value,
                altPhone: document.getElementById('deliveryAltPhone').value,
                address: {
                    street: document.getElementById('deliveryStreet').value,
                    city: document.getElementById('deliveryCity').value,
                    state: document.getElementById('deliveryState').value,
                    pincode: document.getElementById('deliveryPincode').value,
                    landmark: document.getElementById('deliveryLandmark').value
                },
                delivery: {
                    date: document.getElementById('deliveryDate').value,
                    timeSlot: document.getElementById('deliveryTime').value,
                    instructions: document.getElementById('deliveryInstructions').value
                },
                paymentMethod: document.querySelector('input[name="paymentMethod"]:checked').value,
                items: cart,
                totalAmount: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                status: 'Pending',
                createdAt: new Date().toLocaleString()
            };

            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));

            // Send email to owner
            sendOrderEmailToOwner(order);

            showMessage('checkoutMessage', 'Order placed successfully! Order ID: ' + order.id, 'success');
            cart = [];
            updateCart();
            setTimeout(() => {
                showPage('home');
                document.getElementById('checkoutMessage').innerHTML = '';
            }, 3000);
        }

        function sendOrderEmailToOwner(order) {
            const emailContent = `
New Order Received!

Order ID: ${order.id}
Customer Name: ${order.customerName}
Email: ${order.email}
Phone: ${order.phone}
Alternate Phone: ${order.altPhone || 'N/A'}

Delivery Address:
${order.address.street}
${order.address.city}, ${order.address.state} - ${order.address.pincode}
Landmark: ${order.address.landmark || 'N/A'}

Delivery Details:
Date: ${order.delivery.date}
Time Slot: ${order.delivery.timeSlot}
Special Instructions: ${order.delivery.instructions || 'None'}

Items Ordered:
${order.items.map(item => `- ${item.name} (${item.quantity}x) = ‚Çπ${item.price * item.quantity}`).join('\n')}

Total Amount: ‚Çπ${order.totalAmount}
Payment Method: ${order.paymentMethod}

Order Date: ${order.createdAt}
            `;

            console.log('[ORDER RECEIVED]', order);
            console.log('[EMAIL TO OWNER]', emailContent);

            // Store in localStorage for owner to view
            const ownerNotifications = JSON.parse(localStorage.getItem('ownerNotifications') || '[]');
            ownerNotifications.push({
                type: 'order',
                data: order,
                timestamp: new Date().toLocaleString()
            });
            localStorage.setItem('ownerNotifications', JSON.stringify(ownerNotifications));
        }

        // ============ CONTACT FORM ============
        function handleContact(event) {
            event.preventDefault();

            const message = {
                id: 'MSG-' + Date.now(),
                name: document.getElementById('contactName').value,
                email: document.getElementById('contactEmail').value,
                phone: document.getElementById('contactPhone').value,
                message: document.getElementById('contactText').value,
                createdAt: new Date().toLocaleString()
            };

            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages.push(message);
            localStorage.setItem('messages', JSON.stringify(messages));

            console.log('[MESSAGE RECEIVED]', message);

            showMessage('contactMessage', 'Message sent successfully! We will contact you soon.', 'success');
            document.getElementById('contactName').value = '';
            document.getElementById('contactEmail').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('contactText').value = '';

            setTimeout(() => {
                document.getElementById('contactMessage').innerHTML = '';
            }, 3000);
        }

        // ============ ADMIN DASHBOARD ============
        function loadAdminDashboard() {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');

            // Update stats
            document.getElementById('totalOrders').textContent = orders.length;
            document.getElementById('totalMessages').textContent = messages.length;
            document.getElementById('pendingOrders').textContent = orders.filter(o => o.status === 'Pending').length;
            document.getElementById('totalRevenue').textContent = orders.reduce((sum, o) => sum + o.totalAmount, 0);

            // Load orders table
            const ordersTableBody = document.getElementById('ordersTableBody');
            ordersTableBody.innerHTML = orders.map(order => `
                <tr>
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>‚Çπ${order.totalAmount}</td>
                    <td><span class="order-status status-${order.status.toLowerCase()}">${order.status}</span></td>
                    <td>${order.createdAt}</td>
                    <td><button class="view-details-btn" onclick="viewOrderDetails('${order.id}')">View</button></td>
                </tr>
            `).join('');

            // Load messages
            const messagesList = document.getElementById('messagesList');
            messagesList.innerHTML = messages.map(msg => `
                <li class="message-item">
                    <h4>${msg.name}</h4>
                    <p>${msg.message}</p>
                    <div class="message-meta">
                        <strong>Email:</strong> ${msg.email} | <strong>Phone:</strong> ${msg.phone}
                        <br><strong>Date:</strong> ${msg.createdAt}
                    </div>
                </li>
            `).join('');

            // Load analytics
            const productAnalytics = document.getElementById('productAnalytics');
            const productSales = {};
            orders.forEach(order => {
                order.items.forEach(item => {
                    productSales[item.name] = (productSales[item.name] || 0) + item.quantity;
                });
            });

            productAnalytics.innerHTML = Object.entries(productSales).map(([name, qty]) => `
                <div style="margin-bottom: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>${name}</span>
                        <strong>${qty} units</strong>
                    </div>
                    <div style="background: #e0e0e0; height: 20px; border-radius: 10px; overflow: hidden;">
                        <div style="background: linear-gradient(90deg, #1a5f2f, #2d8f4f); height: 100%; width: ${(qty / Math.max(...Object.values(productSales))) * 100}%;"></div>
                    </div>
                </div>
            `).join('');
        }

        function switchAdminTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.admin-tab').forEach(t => t.style.display = 'none');
            document.querySelectorAll('.admin-menu button').forEach(b => b.classList.remove('active'));

            // Show selected tab
            document.getElementById(tab + 'Tab').style.display = 'block';
            event.target.classList.add('active');
        }

        function viewOrderDetails(orderId) {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const order = orders.find(o => o.id === orderId);

            if (!order) return;

            const modal = document.getElementById('orderDetailsModal');
            const content = document.getElementById('orderDetailsContent');

            content.innerHTML = `
                <h3>Order Details - ${order.id}</h3>
                <div class="detail-row">
                    <strong>Customer Name:</strong>
                    <span>${order.customerName}</span>
                </div>
                <div class="detail-row">
                    <strong>Email:</strong>
                    <span>${order.email}</span>
                </div>
                <div class="detail-row">
                    <strong>Phone:</strong>
                    <span>${order.phone}</span>
                </div>
                <div class="detail-row">
                    <strong>Alternate Phone:</strong>
                    <span>${order.altPhone || 'N/A'}</span>
                </div>
                <div class="detail-row">
                    <strong>Address:</strong>
                    <span>${order.address.street}, ${order.address.city}, ${order.address.state} - ${order.address.pincode}</span>
                </div>
                <div class="detail-row">
                    <strong>Landmark:</strong>
                    <span>${order.address.landmark || 'N/A'}</span>
                </div>
                <div class="detail-row">
                    <strong>Delivery Date:</strong>
                    <span>${order.delivery.date}</span>
                </div>
                <div class="detail-row">
                    <strong>Delivery Time:</strong>
                    <span>${order.delivery.timeSlot}</span>
                </div>
                <div class="detail-row">
                    <strong>Special Instructions:</strong>
                    <span>${order.delivery.instructions || 'None'}</span>
                </div>
                <div class="detail-row">
                    <strong>Items:</strong>
                    <span>${order.items.map(item => `${item.name} (${item.quantity}x)`).join(', ')}</span>
                </div>
                <div class="detail-row">
                    <strong>Total Amount:</strong>
                    <span>‚Çπ${order.totalAmount}</span>
                </div>
                <div class="detail-row">
                    <strong>Payment Method:</strong>
                    <span>${order.paymentMethod}</span>
                </div>
                <div class="detail-row">
                    <strong>Status:</strong>
                    <span>
                        <select onchange="updateOrderStatus('${order.id}', this.value)">
                            <option value="Pending" ${order.status === 'Pending' ? 'selected' : ''}>Pending</option>
                            <option value="Confirmed" ${order.status === 'Confirmed' ? 'selected' : ''}>Confirmed</option>
                            <option value="Delivered" ${order.status === 'Delivered' ? 'selected' : ''}>Delivered</option>
                        </select>
                    </span>
                </div>
                <div class="detail-row">
                    <strong>Order Date:</strong>
                    <span>${order.createdAt}</span>
                </div>
            `;

            modal.classList.add('active');
        }

        function closeOrderModal() {
            document.getElementById('orderDetailsModal').classList.remove('active');
        }

        function updateOrderStatus(orderId, newStatus) {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                localStorage.setItem('orders', JSON.stringify(orders));
                alert('Order status updated to: ' + newStatus);
                loadAdminDashboard();
            }
        }

        // ============ USER DASHBOARD ============
        function loadUsers() {
            // Initialize users if not exists
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
        }

        function loadOrders() {
            if (!localStorage.getItem('orders')) {
                localStorage.setItem('orders', JSON.stringify([]));
            }
        }

        function loadMessages() {
            if (!localStorage.getItem('messages')) {
                localStorage.setItem('messages', JSON.stringify([]));
            }
        }

        function showUserDashboard() {
            if (!currentUser) {
                showPage('login');
                return;
            }

            document.getElementById('userNameDisplay').textContent = currentUser.name;
            document.getElementById('userEmailDisplay').textContent = currentUser.email;
            document.getElementById('userPhoneDisplay').textContent = currentUser.phone;
            document.getElementById('userMemberSince').textContent = currentUser.createdAt;

            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const userOrders = orders.filter(o => o.userId === currentUser.id);

            const myOrdersList = document.getElementById('myOrdersList');
            if (userOrders.length === 0) {
                myOrdersList.innerHTML = '<p style="text-align: center; color: #666;">No orders yet. Start shopping!</p>';
            } else {
                myOrdersList.innerHTML = `
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${userOrders.map(order => `
                                <tr>
                                    <td>${order.id}</td>
                                    <td>‚Çπ${order.totalAmount}</td>
                                    <td><span class="order-status status-${order.status.toLowerCase()}">${order.status}</span></td>
                                    <td>${order.createdAt}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            }
        }

        // ============ PAGE NAVIGATION ============
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');

            if (pageId === 'userDashboard') {
                showUserDashboard();
            } else if (pageId === 'myOrders') {
                showUserDashboard();
            } else if (pageId === 'adminDashboard') {
                if (!isOwnerLoggedIn) {
                    showPage('ownerLogin');
                    return;
                }
                loadAdminDashboard();
            }

            document.getElementById('userMenu').style.display = 'none';
            window.scrollTo(0, 0);
        }

        function showMessage(elementId, message, type) {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="${type}-message">${message}</div>`;
        }

        // Initialize on page load
        window.addEventListener('load', init);
    </script>
</body>
</html>
